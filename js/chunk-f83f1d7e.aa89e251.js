(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f83f1d7e"],{"0e44":function(e,t,a){"use strict";a("5fb5")},"14c5":function(e,t,a){"use strict";a.r(t);a("2ca0");var n=a("7a23"),l=a("cb4c"),c=a.n(l),r=a("ddc5"),i=a.n(r),o=a("548b"),u=a.n(o),s=function(e){return Object(n["x"])("data-v-56b614f3"),e=e(),Object(n["v"])(),e},d={class:"row"},b={class:"col-8",style:{"text-align":"left"}},f={class:"col-4",style:{"text-align":"right"}},g={class:"row"},h=s((function(){return Object(n["g"])("div",{class:"col",style:{"text-align":"left"}},[Object(n["g"])("h2",null,"Panel odjezdů")],-1)})),O={class:"col",style:{"text-align":"right"}},v=Object(n["i"])("Zobrazit zde končící spoje "),j={class:"table table-hover"},p=s((function(){return Object(n["g"])("thead",null,[Object(n["g"])("th",{scope:"col"},"Linka"),Object(n["g"])("th",{scope:"col"},"Cílová stanice"),Object(n["g"])("th",{colspan:"2",scope:"col"},"Čas odjezdu"),Object(n["g"])("th",{scope:"col"},"Zpoždění")],-1)})),m={class:"line"},y={key:0,src:c.a,alt:""},k={key:1,src:i.a,alt:""},w={key:2,src:u.a,alt:""},D={style:{"text-align":"left"}},S={key:0},x=s((function(){return Object(n["g"])("td",{colspan:"5"},"Nebyl nalezen žádný spoj.",-1)})),T=[x],q={key:1},V={colspan:"5",id:"scroll-container"},A={id:"scroll-text"};function C(e,t,a,l,c,r){var i=Object(n["C"])("the-time"),o=Object(n["C"])("Toggle");return Object(n["u"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("div",d,[Object(n["g"])("div",b,[Object(n["g"])("h1",null,Object(n["E"])(c.stationData.stationName),1)]),Object(n["g"])("div",f,[Object(n["g"])("h2",null,[Object(n["j"])(i)])])]),Object(n["g"])("div",g,[h,Object(n["g"])("div",O,[Object(n["g"])("small",null,[v,Object(n["j"])(o,{modelValue:c.showArrivals,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.showArrivals=e}),onChange:r.changeShowArrivals},null,8,["modelValue","onChange"])])])]),Object(n["g"])("table",j,[p,Object(n["g"])("tbody",null,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["A"])(c.stationData.departures,(function(e){return Object(n["M"])((Object(n["u"])(),Object(n["f"])("tr",{key:e.id,class:Object(n["p"])({arrival:e.endStation===c.stationData.stationName})},[Object(n["g"])("th",null,[Object(n["g"])("div",m,[Object(n["g"])("div",{class:Object(n["p"])([2===e.traction?"tram":1===e.traction?"trolleybus":0===e.traction?"bus":"tractionUndefined"])},[Object(n["i"])(Object(n["E"])(e.route.startsWith("X")?e.line+"X":e.line)+" ",1),2===e.traction?(Object(n["u"])(),Object(n["f"])("img",y)):Object(n["e"])("",!0),1===e.traction?(Object(n["u"])(),Object(n["f"])("img",k)):Object(n["e"])("",!0),0===e.traction?(Object(n["u"])(),Object(n["f"])("img",w)):Object(n["e"])("",!0)],2)])]),Object(n["g"])("th",null,Object(n["E"])(e.endStation),1),Object(n["g"])("td",null,[Object(n["g"])("div",{style:{"text-align":"right"},class:Object(n["p"])(1===e.isAtStation&&e.timeToDeparture<1?"blink_me":"")},Object(n["E"])(e.departure),3)]),Object(n["g"])("td",null,[Object(n["g"])("div",D,Object(n["E"])(-1===e.delay?e.timeToDeparture>0?"± "+e.timeToDeparture:"± 0":e.timeToDeparture>0?e.timeToDeparture:"< 1")+" min ",1)]),Object(n["g"])("td",null,Object(n["E"])(e.delay>0?"+ "+e.delay:e.delay>-1?e.delay:"?")+" min",1)],2)),[[n["J"],e.endStation!==c.stationData.stationName||c.showArrivals]])})),128)),c.stationData.departures&&0===c.stationData.departures.length?(Object(n["u"])(),Object(n["f"])("tr",S,T)):Object(n["e"])("",!0),null!==c.information?(Object(n["u"])(),Object(n["f"])("tr",q,[Object(n["g"])("td",V,[Object(n["g"])("div",A,Object(n["E"])(c.information),1)])])):Object(n["e"])("",!0)])])],64)}var L=a("1da1"),I=(a("96cf"),a("d3b7"),a("831e"));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function N(e,t,a){var l=Object(n["F"])(e),c=l.disabled,r=a.checked,i=Object(n["b"])((function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){P(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label"},l.classes.value)}));return{classList:Object(n["b"])((function(){return{container:i.value.container,toggle:[i.value.toggle,c.value?r.value?i.value.toggleOnDisabled:i.value.toggleOffDisabled:r.value?i.value.toggleOn:i.value.toggleOff],handle:[i.value.handle,c.value?r.value?i.value.handleOnDisabled:i.value.handleOffDisabled:r.value?i.value.handleOn:i.value.handleOff],label:i.value.label}}))}}var z={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},modelValue:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1}},setup(e,t){const a=function(e,t,a){var l=Object(n["F"])(e),c=l.value,r=l.modelValue,i=l.falseValue,o=l.trueValue,u=l.disabled,s=void 0!==t.expose?r:c,d=Object(n["b"])((function(){return s.value===o.value})),b=function(e){t.emit("input",e),t.emit("update:modelValue",e),t.emit("change",e)},f=function(){b(o.value)},g=function(){b(i.value)};return-1!==[null,void 0,!1,0,"0","off"].indexOf(s.value)&&-1===[i.value,o.value].indexOf(s.value)&&g(),-1!==[!0,1,"1","on"].indexOf(s.value)&&-1===[i.value,o.value].indexOf(s.value)&&f(),{externalValue:s,checked:d,update:b,check:f,uncheck:g,handleInput:function(e){b(e.target.checked?o.value:i.value)},handleClick:function(){u.value||(d.value?g():f())}}}(e,t),l=function(e,t,a){var l=Object(n["F"])(e),c=l.trueValue,r=l.falseValue,i=l.onLabel,o=l.offLabel,u=a.checked,s=a.update;return{label:Object(n["b"])((function(){var e=u.value?i.value:o.value;return e||(e="&nbsp;"),e})),toggle:function(){s(u.value?r.value:c.value)},on:function(){s(c.value)},off:function(){s(r.value)}}}(e,0,{checked:a.checked,update:a.update}),c=N(e,0,{checked:a.checked}),r=function(e,t,a){var l=Object(n["F"])(e).disabled,c=a.check,r=a.uncheck,i=a.checked;return{handleSpace:function(){l.value||(i.value?r():c())}}}(e,0,{check:a.check,uncheck:a.uncheck,checked:a.checked});return{...a,...c,...l,...r}},render:function(e,t,a,l,c,r){return Object(n["u"])(),Object(n["d"])("div",{class:e.classList.container,tabindex:a.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":a.describedby,"aria-labelledby":a.labelledby,role:"switch",onKeyup:t[2]||(t[2]=Object(n["N"])((...t)=>e.handleSpace&&e.handleSpace(...t),["space"]))},[Object(n["M"])(Object(n["j"])("input",{type:"checkbox",id:a.id,name:a.name,value:a.trueValue,checked:e.checked,disabled:a.disabled},null,8,["id","name","value","checked","disabled"]),[[n["J"],!1]]),Object(n["j"])("div",{class:e.classList.toggle,onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[Object(n["j"])("span",{class:e.classList.handle},null,2),Object(n["B"])(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[Object(n["j"])("span",{class:e.classList.label,innerHTML:e.label},null,10,["innerHTML"])]),a.required?(Object(n["u"])(),Object(n["d"])("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,["checked"])):Object(n["e"])("v-if",!0)],2)],42,["tabindex","aria-checked","aria-describedby","aria-labelledby"])},__file:"src/Toggle.vue"},B=z,F={name:"Station",components:{TheTime:I["a"],Toggle:B},data:function(){return{stationData:[],interval:null,error:null,url:"https://simt-tabule.ga:8443/zastavky/"+this.$route.params.stationId,information:null,showArrivals:!0}},created:function(){var e=this;this.showArrivals=!!this.$cookie.isCookieAvailable("showArrivals")&&this.$cookie.getCookie("showArrivals"),this.callStationData(),this.interval=setInterval((function(){return e.callStationData()}),1e4)},methods:{callStationData:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url);case 2:return a=t.sent,t.next=5,a.json();case 5:e.stationData=t.sent;case 6:case"end":return t.stop()}}),t)})))()},changeShowArrivals:function(){this.$cookie.setCookie("showArrivals",this.showArrivals)}},beforeUnmount:function(){clearInterval(this.interval)}},M=(a("774b"),a("0e44"),a("6b0d")),W=a.n(M);const $=W()(F,[["render",C],["__scopeId","data-v-56b614f3"]]);t["default"]=$},"2ca0":function(e,t,a){"use strict";var n=a("23e7"),l=a("06cf").f,c=a("50c4"),r=a("577e"),i=a("5a34"),o=a("1d80"),u=a("ab13"),s=a("c430"),d="".startsWith,b=Math.min,f=u("startsWith"),g=!s&&!f&&!!function(){var e=l(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!g&&!f},{startsWith:function(e){var t=r(o(this));i(e);var a=c(b(arguments.length>1?arguments[1]:void 0,t.length)),n=r(e);return d?d.call(t,n,a):t.slice(a,a+n.length)===n}})},"5fb5":function(e,t,a){},"756f":function(e,t,a){},"774b":function(e,t,a){"use strict";a("756f")},"831e":function(e,t,a){"use strict";var n=a("7a23");function l(e,t,a,l,c,r){return Object(n["E"])(this.time)}var c={name:"TheTime",data:function(){return{timeInterval:null,time:null}},created:function(){var e=this;this.timeInterval=setInterval((function(){return e.callCurrentTime()}),250)},methods:{callCurrentTime:function(){this.time=Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"numeric",second:"numeric"}).format()}},beforeUnmount:function(){clearInterval(this.timeInterval)}},r=a("6b0d"),i=a.n(r);const o=i()(c,[["render",l]]);t["a"]=o}}]);
//# sourceMappingURL=chunk-f83f1d7e.aa89e251.js.map