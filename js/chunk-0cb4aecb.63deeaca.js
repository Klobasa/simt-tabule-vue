(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cb4aecb"],{"0093":function(t,e,c){"use strict";c("b143")},9534:function(t,e,c){"use strict";c.r(e);var a=c("7a23"),n=c("cf1c"),l=c.n(n),i=c("cb4c"),r=c.n(i),s=c("ddc5"),o=c.n(s),d=c("548b"),b=c.n(d),u=function(t){return Object(a["x"])("data-v-57cc13b2"),t=t(),Object(a["v"])(),t},j={class:"primary"},O={class:"title"},m={class:"align-items-center row flex-fill"},v=u((function(){return Object(a["g"])("div",{class:"col text-center text-sm-start pb-3 pb-sm-0"},[Object(a["g"])("h2",null,"Aktuální spoje")],-1)})),f={class:"col-12 col-sm-7 col-md-5 col-lg-4 text-sm-end"},g=Object(a["i"])(" Poslední aktualizace: "),p={class:"board"},h=Object(a["h"])('<div class="boardHeader d-none d-sm-flex" data-v-57cc13b2><div class="col-12 col-sm-2" data-v-57cc13b2>Linka</div><div class="col-sm-6 col-md-2" data-v-57cc13b2>Výchozí zastávka</div><div class="col-12 col-sm-6 col-md-3" data-v-57cc13b2>Cílová zastávka</div><div class="col-sm-6 col-md-2" data-v-57cc13b2>Aktuální zastávka</div><div class="col-sm-6 col-md-2" data-v-57cc13b2>Odchylka</div></div>',1),k={key:0,class:"alert alert-primary"},y=u((function(){return Object(a["g"])("img",{src:l.a,width:"24"},null,-1)})),x=Object(a["i"])(" Načítání... "),w=[y,x],D={key:1,class:"alert alert-danger"},I=u((function(){return Object(a["g"])("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:"},[Object(a["g"])("use",{"xlink:href":"#exclamation-triangle-fill"})],-1)})),S=Object(a["i"])(" Seznam spojů se nepodařilo načíst nebo nejede žádný spoj "),C=[I,S],T={class:"boardDataPrimary"},E={class:"col-12 col-sm-2"},z={class:"line d-inline-block"},A={class:"biggerFont boardButton"},F={key:0,src:r.a,alt:""},H={key:1,src:o.a,alt:""},U={key:2,src:b.a,alt:""},_={class:"col-sm-6 col-md-2"},q={class:"col-12 col-sm-6 col-md-3 d-flex flex-row align-items-start flex-wrap"},J={key:0,class:"d-inline-block"},L=Object(a["i"])(" » "),P=Object(a["i"])(),R={class:"col-sm-6 col-md-2"},B={class:"d-inline-block"},G={class:"col-sm-6 col-md-2"},N={class:"d-inline-block"};function V(t,e,c,n,l,i){var r=Object(a["C"])("format-date-time"),s=Object(a["C"])("router-link"),o=Object(a["C"])("delay-counter");return Object(a["u"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",null,[Object(a["g"])("div",j,[Object(a["g"])("div",O,[Object(a["g"])("div",m,[v,Object(a["g"])("div",f,[g,Object(a["j"])(r,{datetime:l.trips.timeGenerated,"datetime-format":"HH:mm:ss"},null,8,["datetime"])])])])])]),Object(a["g"])("div",p,[h,!0===l.loading?(Object(a["u"])(),Object(a["f"])("div",k,w)):Object(a["e"])("",!0),!1===l.loading&&0===l.trips.length?(Object(a["u"])(),Object(a["f"])("div",D,C)):Object(a["e"])("",!0),(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(l.trips.tripHeader,(function(t){return Object(a["u"])(),Object(a["f"])("div",{class:Object(a["p"])(["boardData",[2===t.line.traction?"tram":1===t.line.traction?"trolleybus":0===t.line.traction?"bus":"tractionUndefined"]]),key:t.id},[Object(a["g"])("div",T,[Object(a["g"])("div",E,[Object(a["g"])("div",z,[Object(a["g"])("div",{class:Object(a["p"])(["px-2 py-1 mr-1",[2===t.line.traction?"tram":1===t.line.traction?"trolleybus":0===t.line.traction?"bus":"tractionUndefined"]])},[Object(a["j"])(s,{to:{path:"/spoj/"+t.id}},{default:Object(a["L"])((function(){return[Object(a["g"])("span",A,Object(a["E"])(t.line.line)+" ",1)]})),_:2},1032,["to"]),2===t.line.traction?(Object(a["u"])(),Object(a["f"])("img",F)):Object(a["e"])("",!0),1===t.line.traction?(Object(a["u"])(),Object(a["f"])("img",H)):Object(a["e"])("",!0),0===t.line.traction?(Object(a["u"])(),Object(a["f"])("img",U)):Object(a["e"])("",!0)],2)])]),Object(a["g"])("div",_,[Object(a["g"])("small",null,Object(a["E"])(t.startStation.station)+" ("+Object(a["E"])(t.startStation.departure)+")",1)]),Object(a["g"])("div",q,[null!==t.endStation?(Object(a["u"])(),Object(a["f"])("div",J,[L,Object(a["g"])("b",null,Object(a["E"])(t.endStation.station),1),P,Object(a["g"])("small",null,"("+Object(a["E"])(t.endStation.departure)+")",1)])):Object(a["e"])("",!0)]),Object(a["g"])("div",R,[Object(a["g"])("div",B,[Object(a["g"])("b",null,Object(a["E"])(t.actualStation.station),1)])]),Object(a["g"])("div",G,[Object(a["g"])("div",N,[null!=t.departureFromActualStation?(Object(a["u"])(),Object(a["d"])(o,{key:0,departure:t.departureFromActualStation},null,8,["departure"])):Object(a["e"])("",!0),Object(a["g"])("small",null,Object(a["E"])(t.actualStation.departure),1)])])])],2)})),128))])],64)}var K=c("1da1"),M=(c("96cf"),c("d3b7"),c("db24")),Q=c("a85b"),W={components:{DelayCounter:M["a"],FormatDateTime:Q["a"]},name:"Trips",data:function(){return{trips:[],timeInterval:null,loading:!0}},created:function(){var t=this;this.callData(),this.timeInterval=setInterval((function(){return t.callData()}),1e4)},methods:{callData:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://simt-tabule.ga:8443/spoj");case 2:return c=e.sent,e.next=5,c.json();case 5:t.trips=e.sent,t.loading=!1;case 7:case"end":return e.stop()}}),e)})))()}},beforeUnmount:function(){clearInterval(this.timeInterval)}},X=(c("0093"),c("6b0d")),Y=c.n(X);const Z=Y()(W,[["render",V],["__scopeId","data-v-57cc13b2"]]);e["default"]=Z},b143:function(t,e,c){},db24:function(t,e,c){"use strict";var a=c("7a23");function n(t,e,c,n,l,i){return Object(a["u"])(),Object(a["f"])("div",{style:Object(a["q"])(l.textColor)},[Object(a["g"])("b",null,Object(a["E"])(this.odchylka),1)],4)}var l=c("1315"),i={name:"DelayCounter",props:["departure"],data:function(){return{departureTime:this.departure,odchylka:null,interval:null,textColor:{color:""}}},created:function(){this.countOdchylka()},methods:{countOdchylka:function(){var t=this;clearInterval(this.interval);var e,c,a=l["DateTime"].fromISO(this.departure);if(null!=a){l["DateTime"].now()<a?(e=l["Interval"].fromDateTimes(l["DateTime"].now(),a).length("milliseconds"),c="-"):(e=l["Interval"].fromDateTimes(a,l["DateTime"].now()).length("milliseconds"),c="+");var n=l["Duration"].fromObject({years:0,quarters:0,months:0,weeks:0,days:0,hours:0,minutes:parseInt(e/1e3/60),seconds:parseInt(parseInt(e/1e3)-60*parseInt(e/1e3/60)),milliseconds:0});this.odchylka=c+(n.minutes<10?"0"+n.minutes:n.minutes)+":"+(n.seconds<10?"0"+n.seconds:n.seconds),this.textColor.color="-"===c||e<12e4?"#73bb15":e<3e5?"#ec9706":"#d42724"}this.interval=setInterval((function(){return t.countOdchylka()}),1e3)}},beforeUnmount:function(){clearInterval(this.interval)}},r=c("6b0d"),s=c.n(r);const o=s()(i,[["render",n]]);e["a"]=o}}]);
//# sourceMappingURL=chunk-0cb4aecb.63deeaca.js.map