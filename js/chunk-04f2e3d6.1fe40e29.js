(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04f2e3d6"],{"41e7":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r={class:"container"},i={class:"row"},c={class:"col-10",style:{"text-align":"left"}},l={class:"col-2",style:{"text-align":"right"}},s={class:"table table-striped"},u=Object(a["g"])("thead",null,[Object(a["g"])("th",{scope:"col"},"Stanice"),Object(a["g"])("th",{scope:"col"},"Čas odjezdu"),Object(a["g"])("th")],-1),o={key:0},d=Object(a["g"])("td",{class:"table-danger",colspan:"3"},[Object(a["g"])("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:"},[Object(a["g"])("use",{"xlink:href":"#exclamation-triangle-fill"})]),Object(a["i"])(" Data nejsou aktualizována ")],-1),m=[d],b={key:1},h=Object(a["g"])("td",{colspan:"3"},"Spoj již dojel",-1),j=[h];function O(e,t,n,d,h,O){var p=Object(a["C"])("the-time"),f=Object(a["C"])("format-date-time"),v=Object(a["C"])("delay-counter");return Object(a["u"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",r,[Object(a["g"])("div",i,[Object(a["g"])("div",c,[Object(a["g"])("h3",null,Object(a["E"])(h.tripData.line)+" » "+Object(a["E"])(h.tripData.endStation),1)]),Object(a["g"])("div",l,[Object(a["g"])("h3",null,[Object(a["j"])(p)])])])]),Object(a["g"])("table",s,[u,Object(a["g"])("tbody",null,[h.secondsSinceUpdate>60?(Object(a["u"])(),Object(a["f"])("tr",o,m)):Object(a["e"])("",!0),(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(h.tripData.trip,(function(e){return Object(a["u"])(),Object(a["f"])("tr",{key:e.sequence,class:Object(a["p"])({"table-success":1===e.isAtStation})},[Object(a["g"])("td",null,Object(a["E"])(e.station),1),Object(a["g"])("td",null,[Object(a["j"])(f,{datetime:e.departure,datetimeFormat:"HH:mm"},null,8,["datetime"])]),Object(a["g"])("td",null,[1===e.isAtStation?(Object(a["u"])(),Object(a["d"])(v,{key:0,departure:e.departure},null,8,["departure"])):Object(a["e"])("",!0)])],2)})),128)),null==h.tripData.line?(Object(a["u"])(),Object(a["f"])("tr",b,j)):Object(a["e"])("",!0)])])],64)}var p=n("1da1"),f=(n("96cf"),n("d3b7"),n("db24")),v=n("a85b"),g=n("831e"),D=n("1315"),I={components:{TheTime:g["a"],FormatDateTime:v["a"],DelayCounter:f["a"]},name:"Trip",data:function(){return{tripData:[],playersIdData:[],playerId:null,tripQuery:this.$route.query.spoj,url:"https://simt-tabule.ga:8443/spoj/"+this.$route.params.playerId,interval:null,timeInterval:null,time:null,timeStation:null,secondsSinceUpdate:null}},created:function(){var e=this;this.callTripDetail(),this.interval=setInterval((function(){return e.callTripDetail()}),1e4)},methods:{callTripDetail:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url);case 2:return n=t.sent,t.next=5,n.json();case 5:e.tripData=t.sent,e.updated();case 7:case"end":return t.stop()}}),t)})))()},updated:function(){this.secondsSinceUpdate=D["Interval"].fromDateTimes(D["DateTime"].fromISO(this.tripData.dataGenerated),D["DateTime"].now()).length("seconds"),null==this.tripData.dataGenerated&&(this.secondsSinceUpdate=600)},getCurrentTime:function(){this.time=Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"numeric",second:"numeric"}).format()}},beforeUnmount:function(){clearInterval(this.interval)}},y=n("6b0d"),T=n.n(y);const k=T()(I,[["render",O]]);t["default"]=k},"831e":function(e,t,n){"use strict";var a=n("7a23");function r(e,t,n,r,i,c){return Object(a["E"])(this.time)}var i={name:"TheTime",data:function(){return{timeInterval:null,time:null}},created:function(){var e=this;this.timeInterval=setInterval((function(){return e.callCurrentTime()}),250)},methods:{callCurrentTime:function(){this.time=Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"numeric",second:"numeric"}).format()}},beforeUnmount:function(){clearInterval(this.timeInterval)}},c=n("6b0d"),l=n.n(c);const s=l()(i,[["render",r]]);t["a"]=s},db24:function(e,t,n){"use strict";var a=n("7a23");function r(e,t,n,r,i,c){return Object(a["u"])(),Object(a["f"])("div",{style:Object(a["q"])(i.textColor)},[Object(a["g"])("b",null,Object(a["E"])(this.odchylka),1)],4)}var i=n("1315"),c={name:"DelayCounter",props:["departure"],data:function(){return{departureTime:this.departure,odchylka:null,interval:null,textColor:{color:""}}},created:function(){this.countOdchylka()},methods:{countOdchylka:function(){var e=this;clearInterval(this.interval);var t,n,a=i["DateTime"].fromISO(this.departure);if(null!=a){i["DateTime"].now()<a?(t=i["Interval"].fromDateTimes(i["DateTime"].now(),a).length("milliseconds"),n="-"):(t=i["Interval"].fromDateTimes(a,i["DateTime"].now()).length("milliseconds"),n="+");var r=i["Duration"].fromObject({years:0,quarters:0,months:0,weeks:0,days:0,hours:0,minutes:parseInt(t/1e3/60),seconds:parseInt(parseInt(t/1e3)-60*parseInt(t/1e3/60)),milliseconds:0});this.odchylka=n+(r.minutes<10?"0"+r.minutes:r.minutes)+":"+(r.seconds<10?"0"+r.seconds:r.seconds),this.textColor.color="-"===n||t<12e4?"#73bb15":t<3e5?"#ec9706":"#d42724"}this.interval=setInterval((function(){return e.countOdchylka()}),1e3)}},beforeUnmount:function(){clearInterval(this.interval)}},l=n("6b0d"),s=n.n(l);const u=s()(c,[["render",r]]);t["a"]=u}}]);
//# sourceMappingURL=chunk-04f2e3d6.1fe40e29.js.map